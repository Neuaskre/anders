include ../../../header

html
    head
        meta(property='og:title'       content='EQUIV')
        meta(property='og:description' content='Fibrational Equivalence')
        meta(property='og:url'         content='https://anders.groupoid.space/foundations/mltt/equiv/')

block title
    title EQUIV

block content
    nav
        <a href='../../../index.html'>ANDERS</a>
        <a href='../../../lib/index.html'>LIB</a>
        <a href='#'>EQUIV</a>
    article.main.list
        section
            h1 EQUIVALENCE
            aside
                time Published: 30 DEC 2018
            h2 Formation
            +tex.
                $\mathbf{Definition}$ (Fiberwise Equivalence).
                Fiberwise equivalence $\simeq$ or $\mathrm{Equiv}$
                of function $f: A \rightarrow B$
                represents internal equality of types $A$ and $B$
                in the universe $U$ as contractible fibers of $f$
                over base $B$.
            +tex(true).
                $$
                    \simeq_{A,B}\hspace{.4em}=_U\mathbf{Equiv}(A,B) : U =_{def}
                $$
            +tex(true).
                $$
                        \sum_{f: A \rightarrow B}
                        \prod_{y:B} 
                        \sum_{x: \Sigma_{x:A} y =_B f(x)}
                        \sum_{w: \Sigma_{x:A} y =_B f(x)}
                $$
            +tex(true).
                $$
                        x =_{\Sigma_{x:A} y =_B f(x)} w.
                $$
            +code.
                def isContr (A: U) : U
                 := Σ (x: A), Π (y: A), Path A x y

                def fiber (A B : U) (f: A → B) (y : B): U
                 := Σ (x : A), Path B y (f x)

                def isEquiv (A B : U) (f : A → B) : U
                 := Π (y : B), isContr (fiber A B f y)

                def equiv (A B : U) : U
                 := Σ (f : A → B), isEquiv A B f
            br.
            h2 Introduction
            +tex.
                $\mathbf{Definition}$ (Fiberwise Reflection).
                There is a fiberwise instance $\mathrm{idEquiv}$
                of $\mathrm{Equiv}(A,A)$ that is derived
                as $(\mathrm{id},\mathrm{isContrSingl}(A))$:
            +tex(true).
                $$
                    \mathrm{idEquiv}_A : \mathbf{Equiv}(A,A).
                $$
            +code.
                def singl (A: U) (a: A): U
                 := Σ (x: A), Path A a x

                def contr (A : U) (a b : A) (p : Path A a b)
                  : Path (singl A a) (eta A a) (b, p)
                 := &lt;i> (p @ i, &lt;j> p @ i /\ j)

                def isContrSingl (A : U) (a : A)
                  : isContr (singl A a)
                 := ((a,idp A a),
                     (\(z:singl A a),contr A a z.1 z.2))

                def idEquiv (A : U)
                  : equiv A A
                 := (\(a:A) -> a, isContrSingl A)
            br.
            h2 Elimination
            +tex.
                $\mathbf{Definition}$ (Fiberwise Induction Principle).
                For any $C : A \rightarrow B \rightarrow \mathrm{Equiv}(A,B)\rightarrow U$
                and it's evidence $d$ at $(a,a,\mathrm{idEquiv}_A)$
                there is a function:
            +tex(true).
                $$
                  \mathbf{ind}_{\mathrm{Equiv}}(C,d) : \mathrm{Equiv}(A,B)\rightarrow C(A,B,p).
                $$
            +code.
                def ind-Equiv (A B: U)
                    (C: Π (A B: U), equiv A B → U)
                    (d: C A A (idEquiv A)) 
                  : (p: equiv A B) -> C A B p
            br.
            h2 Computation
            +tex.
                $\mathbf{Definition}$ (Fiberwise Computation of Induction Principle).
            +code.
                def compute-Equiv (A : U) 
                    (C : Π (A B: U), equiv A B → U)
                    (d: C A A (idEquiv A))
                  : Path (C A A (idEquiv A)) d
                         (ind-Equiv A A C d (idEquiv A))
            br.

        section
            h1 UNIVALENCE
            +tex.
                The notion of univalence represents
                transport between fibrational equivalence 
                as contractability of fibers and homotopical
                multi-dimentional
                heterogeneous path equality (HoTT 2.10):
            +tex(true).
                $$
                   \mathrm{Univalence} =_{def}
                $$
            +tex(true).
                $$
                   \mathbf{isEquiv}(A\simeq B,A = B, \mathbf{ua}).
                $$
            +tex.
                The $\mathrm{isEquiv(f: Equiv \rightarrow Path)}$ type
                is called $\mathrm{Univ}$ type. Univalence is packed
                as isomorphism where intro is obtained by $\mathrm{Glue}$ type
                and elim $g: \mathrm{Path} \rightarrow \mathrm{Equiv}$
                is obtained by $\Sigma$ transport from constant map.
            h2 Formation
            +tex.
                $\mathbf{Definition}$ (Univalence Formation).
            +tex(true).
                $$
                    (A \simeq B) \rightarrow (A =_U B) : U.
                $$
            +code.
                def univ-formation (A B : U)
                 := equiv A B → PathP (&lt;_> U) A B
            br.
            h2 Introduction
            +tex.
                $\mathbf{Definition}$ (Univalence Intro).
            +tex(true).
                $$
                    \mathbf{ua} : (A\simeq B) \rightarrow (A =_U B).
                $$
            +code.
                def univ-intro (A B : U)
                  : univ-formation A B
                 := λ (e : equiv A B),
                    &lt;i> Glue B (∂ i)
                     [ (i = 0) → (A, e),
                       (i = 1) → (B, idEquiv B) ]
            br.
            h2 Elimination
            +tex.
                $\mathbf{Definition}$ (Univalence Elimination).
            +tex(true).
                $$
                    \mathbf{ua}^{-1} \equiv \mathbf{transp}\ ([i] \mathrm{Equiv}_A(p@i))\ 0\ \mathrm{idEquiv}_A.
                $$
            +code.
                def univ-elim (A B : U)
                    (p : PathP (&lt;_> U) A B)
                  : equiv A B
                 := transp (&lt;i> equiv A (p @ i))
                           0 (idEquiv A)
            br.
            h2 Computation
            +tex.
                $\mathbf{Definition}$ (Univalence Computation).
            +tex(true).
                $$
                    \mathbf{transp}(\mathbf{ua}(f),x) \equiv f(x).
                $$
            h2 Uniqueness
            +tex.
                $\mathbf{Definition}$ (Univalence Uniqueness).
            +tex(true).
                $$
                    p \equiv \mathbf{ua}(\mathbf{transp}(p)).
                $$
            +code.
                def univ-computation (A B : U)
                    (p : PathP (&lt;_> U) A B)
                  : PathP (&lt;_> PathP (&lt;_> U) A B)
                          (univ-intro A B (univ-elim A B p)) p
                 := &lt;j i> Glue B (j ∨ ∂ i)
                       [ (i = 0) → (A, univ-elim A B p),
                         (i = 1) → (B, idEquiv B),
                         (j = 1) → (p @ i, univ-elim (p @ i)
                                           B (&lt;k> p @ (i ∨ k))) ]
            br.

        section
            h1 MINIVALENCE
            p.
                The notion of Minivalence as forth-back map between
                fibrational equivalence and section/retract-based
                isomorphism is mentioned in Cubical Agda sources.

            h2 Formation
            +code.
                def mini-Form (A B : U) : U
                 := iso A B -> equiv A B
            br.
            h2 Introduction
            +code.
                def mini-Intro (A B : U)
                  : mini-Form A B
                 := \ (x : iso A B),
                      univ-elim A B
                        (isoPath A B x.f x.g x.s x.t)
            br.

            h2 Elimination
            +code.
                def mini-Elim (A B : U)
                  : equiv A B -> iso A B
                 := \ (x : equiv A B),
                      ( x.f,
                        inv-equiv A B x,
                        ret-equiv A B x,
                        sec-equiv A B x,
                        star
                      )
            br.

include ../../../footer
